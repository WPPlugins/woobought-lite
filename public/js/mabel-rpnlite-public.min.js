var mabel_rpn_docCookies={getItem:function(e){return e?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(e,n,o,t,r,i){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var a="";if(o)switch(o.constructor){case Number:a=1/0===o?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+o;break;case String:a="; expires="+o;break;case Date:a="; expires="+o.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(n)+a+(r?"; domain="+r:"")+(t?"; path="+t:"")+(i?"; secure":""),!0},removeItem:function(e,n,o){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(o?"; domain="+o:"")+(n?"; path="+n:""),!0)},hasItem:function(e){return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),n=e.length,o=0;o<n;o++)e[o]=decodeURIComponent(e[o]);return e}};jQuery(document).ready(function(){!function(e){function n(){jQuery.post(ajaxurl,{action:"mabel-rpnlite-getnew-purchased-products"},function(n){n=e.parseJSON(n),a=n,a&&a.reverse(),e.event.trigger("mabel-rpnlite-products-fetched"),c=!1})}if(0!=window.mabelrpnrun&&!mabel_rpn_docCookies.getItem("mabel-rpnlite-hide")){var o=window.mabelrpnsettings;if(o){o=JSON.parse(o);var t,r,i=864e3,a=[],c=!0,s=c?mabel_rpn_docCookies.getItem("mabel-rpnlite-time")||15:o.notificationdelay;RpnToast.options.timeOut=1e3*parseInt(10),RpnToast.options.newestOnTop=!1,RpnToast.options.layout={imageplace:o.boxlayout,boxplace:o.boxplacement},RpnToast.options.design={bgcolor:0===o.boxbgcolor.indexOf("#")?o.boxbgcolor:"#"+o.boxbgcolor,color:0===o.textcolor.indexOf("#")?o.textcolor:"#"+o.textcolor};var l=function(e){s=o.notificationdelay;var i=u(mabel_rpn_docCookies.getItem("mabel-rpnlite-last"));return i?(RpnToast.show({productinfo:i,translations:window.rpntranslations,optionsOverride:{onclick:function(){window.location=i.url}}}),void("function"==typeof e&&e())):(clearInterval(t),clearInterval(r),void n())};e(document).on("mabel-rpnlite-products-fetched",function(e){setTimeout(function(){l(function(){t=setInterval(l,1e3*s)})},1e3*parseInt(s)),r=setInterval(function(){mabel_rpn_docCookies.setItem("mabel-rpnlite-time",--s,void 0,"/")},1e3)}),e(document).on("destroy-rpnToast",function(e){mabel_rpn_docCookies.setItem("mabel-rpnlite-hide",!0,i,"/"),clearInterval(t),clearInterval(r),RpnToast.clear({force:!0})});var u=function(e){if(!a||!a.length)return!1;var n=a[0];if(e)for(var o=0;o<a.length;o++)if(a[o].id==e){if(o===a.length-1)return!1;n=a[o+1]}return mabel_rpn_docCookies.setItem("mabel-rpnlite-last",n.id,i,"/"),n};n()}}}(jQuery)}),window.RpnToast=function(e){return function(){function n(n){return n||(n=s()),u=e("#"+d+"wrapper"),u.length?u:(u=e("<div/>").attr("id",d+"wrapper").addClass(d+(n.layout.boxplace||"bottom-left")),u.appendTo(e(n.target)),u)}function o(e){return c({product:e.productinfo,translations:e.translations,optionsOverride:e.optionsOverride})}function t(e){var n=s();r(n,e)}function r(n,o){for(var t=u.children(),r=t.length-1;r>=0;r--)i(e(t[r]),n,o)}function i(n,o,t){var r=!(!t||!t.force)&&t.force;return!(!n||!r&&0!==e(":focus",n).length)&&(n[o.hideMethod]({duration:o.hideDuration,easing:o.hideEasing,complete:function(){l(n)}}),!0)}function a(){return{tapToDismiss:!1,closeButton:!0,showMethod:"fadeIn",showDuration:350,showEasing:"swing",hideMethod:"fadeOut",hideDuration:250,hideEasing:"swing",onHidden:void 0,onShown:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1500,timeOut:0,target:"body",newestOnTop:!1}}function c(o){function t(){m(),f(),g(),a()}function r(){w.closeOnHover&&x.hover(v,b),!w.onclick&&w.tapToDismiss&&x.click(h),w.closeButton&&O&&O.click(function(e){e.preventDefault(),e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&e.cancelBubble!==!0&&(e.cancelBubble=!0),w.onCloseClick&&w.onCloseClick(e),h(!0)}),I.click(function(n){n.preventDefault(),event.stopPropagation?event.stopPropagation():void 0!==event.cancelBubble&&event.cancelBubble!==!0&&(event.cancelBubble=!0),clearTimeout(k),e.event.trigger("destroy-rpnToast")}),w.onclick&&x.click(function(e){w.onclick(e),h()})}function i(){x.hide(),x[w.showMethod]({duration:w.showDuration,easing:w.showEasing,complete:w.onShown}),w.timeOut>0&&(k=setTimeout(h,w.timeOut))}function a(){w.newestOnTop?u.prepend(x):u.append(x)}function c(e){return e.replace("{{first_name}}",o.product.buyer.name).replace("{{city}}",o.product.buyer.city).replace("{{state}}",o.product.buyer.state).replace("{{country}}",o.product.buyer.country).replace("{{product_name}}",o.product.name).replace("{{price}}",o.product.price)}function m(){o.product.name&&y.append(e("<h4>"+o.product.name+"</h4>").css("color",w.design.color||"black")),o.translations.message&&(y.append(c(o.translations.message)).addClass(d+"message"),x.append(y.css("color",w.design.color||"black"))),y.append(I)}function f(){o.product.image&&"noimage"!==w.layout.imageplace&&(C.addClass(d+"image-wrapper").css("background-image","url("+e(o.product.image).attr("src")+")"),"imageright"===w.layout.imageplace?x.append(C):x.prepend(C))}function g(){w.closeButton&&x.append(O.addClass(d+"close"))}function h(n){var o=n&&w.closeMethod!==!1?w.closeMethod:w.hideMethod,t=n&&w.closeDuration!==!1?w.closeDuration:w.hideDuration,r=n&&w.closeEasing!==!1?w.closeEasing:w.hideEasing;if(!e(":focus",x).length||n)return x[o]({duration:t,easing:r,complete:function(){l(x),clearTimeout(k),w.onHidden&&w.onHidden()}})}function b(){(w.timeOut>0||w.extendedTimeOut>0)&&(k=setTimeout(h,w.extendedTimeOut))}function v(){clearTimeout(k),x.stop(!0,!0)[w.showMethod]({duration:w.showDuration,easing:w.showEasing})}var w=s();"undefined"!=typeof o.optionsOverride&&(w=e.extend(w,o.optionsOverride)),p++,u=n(w);var k=null,T=d+w.layout.imageplace+" "+d+"small",x=e("<div/>").css("background-color",w.design.bgcolor||"white").addClass(T),y=e('<div class="message-wrapper"/>'),I=e('<span class="mabel-rpn-hide">').html(e('<a href="#" class="rpn-disable-btn">'+o.translations.disable+"</a></span>").css("color",w.design.color||"black")),C=e('<div class="image-wrapper"/>'),O=e('<a href="#">&times;</a>').css("color",w.design.color||"black");return t(),i(),r(),x}function s(){return e.extend({},a(),m.options)}function l(e){u||(u=n()),e.is(":visible")||(e.remove(),e=null,0===u.children().length&&u.remove())}var u,d="mabel-rpn-",p=0,m={clear:t,getContainer:n,show:o,options:{}};return m}()}(jQuery);